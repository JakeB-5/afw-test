---
status: draft
created: 2026-02-03
depends: null
domain: calculator
constitution_version: 1.1.0
---

# 공학용 웹 계산기

> React 기반 공학용 계산기 웹 애플리케이션. 기본 사칙연산, 삼각함수, 로그, 거듭제곱 등 공학 계산 기능과 히스토리, 키보드 입력, 테마 변경을 지원한다.

---

## Requirement: 기본 사칙연산

시스템은 두 숫자의 사칙연산(덧셈, 뺄셈, 곱셈, 나눗셈)을 수행해야 한다(SHALL).

### Scenario: 덧셈 수행

- **GIVEN** 사용자가 숫자 5를 입력하고 + 버튼을 클릭한 상태에서
- **WHEN** 숫자 3을 입력하고 = 버튼을 클릭하면
- **THEN** 화면에 8이 표시되어야 한다

### Scenario: 뺄셈 수행

- **GIVEN** 사용자가 숫자 10을 입력하고 - 버튼을 클릭한 상태에서
- **WHEN** 숫자 4를 입력하고 = 버튼을 클릭하면
- **THEN** 화면에 6이 표시되어야 한다

### Scenario: 곱셈 수행

- **GIVEN** 사용자가 숫자 7을 입력하고 × 버튼을 클릭한 상태에서
- **WHEN** 숫자 6을 입력하고 = 버튼을 클릭하면
- **THEN** 화면에 42가 표시되어야 한다

### Scenario: 나눗셈 수행

- **GIVEN** 사용자가 숫자 20을 입력하고 ÷ 버튼을 클릭한 상태에서
- **WHEN** 숫자 4를 입력하고 = 버튼을 클릭하면
- **THEN** 화면에 5가 표시되어야 한다

### Scenario: 0으로 나누기 에러 처리

- **GIVEN** 사용자가 숫자 10을 입력하고 ÷ 버튼을 클릭한 상태에서
- **WHEN** 숫자 0을 입력하고 = 버튼을 클릭하면
- **THEN** 화면에 "Error" 메시지가 표시되어야 한다

---

## Requirement: 괄호 연산

시스템은 괄호를 사용한 연산 우선순위 지정을 지원해야 한다(SHALL).

### Scenario: 괄호를 사용한 연산 우선순위

- **GIVEN** 계산기가 초기 상태에서
- **WHEN** (2+3)*4를 입력하고 = 버튼을 클릭하면
- **THEN** 화면에 20이 표시되어야 한다

### Scenario: 중첩 괄호 연산

- **GIVEN** 계산기가 초기 상태에서
- **WHEN** ((2+3)*2)+5를 입력하고 = 버튼을 클릭하면
- **THEN** 화면에 15가 표시되어야 한다

### Scenario: 괄호 짝 불일치 에러

- **GIVEN** 계산기가 초기 상태에서
- **WHEN** (2+3을 입력하고 = 버튼을 클릭하면
- **THEN** 화면에 "Error" 메시지가 표시되어야 한다

---

## Requirement: 공학 함수

시스템은 삼각함수, 로그, 제곱근, 거듭제곱 계산을 제공해야 한다(SHALL).

### Scenario: 사인 함수 계산

- **GIVEN** 사용자가 각도 모드를 DEG로 설정한 상태에서
- **WHEN** 30을 입력하고 sin 버튼을 클릭하면
- **THEN** 화면에 0.5가 표시되어야 한다

### Scenario: 코사인 함수 계산

- **GIVEN** 사용자가 각도 모드를 DEG로 설정한 상태에서
- **WHEN** 60을 입력하고 cos 버튼을 클릭하면
- **THEN** 화면에 0.5가 표시되어야 한다

### Scenario: 탄젠트 함수 계산

- **GIVEN** 사용자가 각도 모드를 DEG로 설정한 상태에서
- **WHEN** 45를 입력하고 tan 버튼을 클릭하면
- **THEN** 화면에 1이 표시되어야 한다

### Scenario: 자연로그 계산

- **GIVEN** 사용자가 양수를 입력한 상태에서
- **WHEN** ln 버튼을 클릭하면
- **THEN** 자연로그 값이 계산되어 표시되어야 한다

### Scenario: 상용로그 계산

- **GIVEN** 사용자가 100을 입력한 상태에서
- **WHEN** log 버튼을 클릭하면
- **THEN** 화면에 2가 표시되어야 한다

### Scenario: 제곱근 계산

- **GIVEN** 사용자가 16을 입력한 상태에서
- **WHEN** √ 버튼을 클릭하면
- **THEN** 화면에 4가 표시되어야 한다

### Scenario: 거듭제곱 계산

- **GIVEN** 사용자가 2를 입력하고 x^y 버튼을 클릭한 상태에서
- **WHEN** 10을 입력하고 = 버튼을 클릭하면
- **THEN** 화면에 1024가 표시되어야 한다

### Scenario: 음수 제곱근 에러 처리

- **GIVEN** 사용자가 -4를 입력한 상태에서
- **WHEN** √ 버튼을 클릭하면
- **THEN** 화면에 "Error" 메시지가 표시되어야 한다

### Scenario: tan(90도) 에러 처리

- **GIVEN** 사용자가 각도 모드를 DEG로 설정한 상태에서
- **WHEN** 90을 입력하고 tan 버튼을 클릭하면
- **THEN** 화면에 "Error" 메시지가 표시되어야 한다

### Scenario: 음수 로그 에러 처리

- **GIVEN** 사용자가 -5를 입력한 상태에서
- **WHEN** ln 버튼을 클릭하면
- **THEN** 화면에 "Error" 메시지가 표시되어야 한다

### Scenario: 0 로그 에러 처리

- **GIVEN** 사용자가 0을 입력한 상태에서
- **WHEN** log 버튼을 클릭하면
- **THEN** 화면에 "Error" 메시지가 표시되어야 한다

### Scenario: x² 제곱 계산

- **GIVEN** 사용자가 5를 입력한 상태에서
- **WHEN** x² 버튼을 클릭하면
- **THEN** 화면에 25가 표시되어야 한다

### Scenario: 1/x 역수 계산

- **GIVEN** 사용자가 4를 입력한 상태에서
- **WHEN** 1/x 버튼을 클릭하면
- **THEN** 화면에 0.25가 표시되어야 한다

### Scenario: 0의 역수 에러

- **GIVEN** 사용자가 0을 입력한 상태에서
- **WHEN** 1/x 버튼을 클릭하면
- **THEN** 화면에 "Error" 메시지가 표시되어야 한다

---

## Requirement: 소수점 입력

시스템은 소수점 입력을 올바르게 처리해야 한다(SHALL).

### Scenario: 소수점 입력

- **GIVEN** 계산기가 초기 상태에서
- **WHEN** 3.14를 입력하면
- **THEN** 화면에 3.14가 표시되어야 한다

### Scenario: 소수점 중복 방지

- **GIVEN** 사용자가 3.14를 입력한 상태에서
- **WHEN** . 버튼을 클릭하면
- **THEN** 입력이 무시되고 3.14가 유지되어야 한다

---

## Requirement: 연속 연산

시스템은 이전 계산 결과에 이어서 연산할 수 있어야 한다(SHALL).

### Scenario: 연속 연산

- **GIVEN** 사용자가 5+3=을 입력하여 8이 표시된 상태에서
- **WHEN** +2를 입력하고 = 버튼을 클릭하면
- **THEN** 화면에 10이 표시되어야 한다

---

## Requirement: 각도 모드 전환

시스템은 DEG(도)와 RAD(라디안) 모드 간 전환을 지원해야 한다(SHALL).

### Scenario: DEG 모드에서 RAD 모드로 전환

- **GIVEN** 현재 각도 모드가 DEG인 상태에서
- **WHEN** RAD 버튼을 클릭하면
- **THEN** 각도 모드가 RAD로 변경되고 모드 표시가 업데이트되어야 한다

### Scenario: RAD 모드에서 삼각함수 계산

- **GIVEN** 사용자가 각도 모드를 RAD로 설정한 상태에서
- **WHEN** π/6을 입력하고 sin 버튼을 클릭하면
- **THEN** 화면에 0.5가 표시되어야 한다

---

## Requirement: 계산 히스토리

시스템은 이전 계산 결과를 히스토리로 저장하고 표시해야 한다(SHALL).

### Scenario: 계산 결과 히스토리 저장

- **GIVEN** 사용자가 5 + 3 = 계산을 완료한 상태에서
- **WHEN** 히스토리 패널을 열면
- **THEN** "5 + 3 = 8" 항목이 히스토리에 표시되어야 한다

### Scenario: 히스토리 항목 클릭으로 값 불러오기

- **GIVEN** 히스토리에 "5 + 3 = 8" 항목이 있는 상태에서
- **WHEN** 해당 항목을 클릭하면
- **THEN** 계산 결과 8이 현재 입력 화면에 표시되어야 한다

### Scenario: 히스토리 전체 삭제

- **GIVEN** 히스토리에 여러 계산 기록이 있는 상태에서
- **WHEN** 히스토리 삭제 버튼을 클릭하면
- **THEN** 모든 히스토리 항목이 삭제되어야 한다

---

## Requirement: 키보드 입력 지원

시스템은 키보드를 통한 숫자 및 연산자 입력을 지원해야 한다(SHALL).

### Scenario: 숫자 키 입력

- **GIVEN** 계산기가 활성화된 상태에서
- **WHEN** 키보드에서 숫자 키(0-9)를 누르면
- **THEN** 해당 숫자가 화면에 입력되어야 한다

### Scenario: 연산자 키 입력

- **GIVEN** 숫자가 입력된 상태에서
- **WHEN** 키보드에서 +, -, *, / 키를 누르면
- **THEN** 해당 연산자가 적용되어야 한다

### Scenario: Enter 키로 계산 실행

- **GIVEN** 수식이 입력된 상태에서
- **WHEN** Enter 키를 누르면
- **THEN** 계산이 실행되고 결과가 표시되어야 한다

### Scenario: Escape 키로 초기화

- **GIVEN** 수식이 입력된 상태에서
- **WHEN** Escape 키를 누르면
- **THEN** 화면이 초기화되고 0이 표시되어야 한다

### Scenario: Backspace 키로 마지막 입력 삭제

- **GIVEN** 숫자 123이 입력된 상태에서
- **WHEN** Backspace 키를 누르면
- **THEN** 마지막 숫자가 삭제되고 12가 표시되어야 한다

---

## Requirement: 테마 변경

시스템은 다크 모드와 라이트 모드 테마를 지원해야 한다(SHALL).

### Scenario: 라이트 모드에서 다크 모드로 전환

- **GIVEN** 현재 테마가 라이트 모드인 상태에서
- **WHEN** 테마 토글 버튼을 클릭하면
- **THEN** 다크 모드가 적용되어 배경이 어두워지고 텍스트가 밝아져야 한다

### Scenario: 다크 모드에서 라이트 모드로 전환

- **GIVEN** 현재 테마가 다크 모드인 상태에서
- **WHEN** 테마 토글 버튼을 클릭하면
- **THEN** 라이트 모드가 적용되어 배경이 밝아지고 텍스트가 어두워져야 한다

### Scenario: 테마 설정 유지

- **GIVEN** 사용자가 다크 모드를 선택한 상태에서
- **WHEN** 브라우저를 새로고침하면
- **THEN** 다크 모드가 유지되어야 한다

---

## Requirement: 화면 초기화

시스템은 계산기 화면을 초기화하는 기능을 제공해야 한다(SHALL).

### Scenario: C 버튼으로 전체 초기화

- **GIVEN** 수식이 입력된 상태에서
- **WHEN** C 버튼을 클릭하면
- **THEN** 화면이 초기화되고 0이 표시되어야 한다

### Scenario: CE 버튼으로 현재 입력만 삭제

- **GIVEN** 5 + 3 입력 후 숫자 7을 입력 중인 상태에서
- **WHEN** CE 버튼을 클릭하면
- **THEN** 현재 입력된 7만 삭제되고 5 + 상태가 유지되어야 한다

### Scenario: ⌫ 버튼 클릭으로 마지막 입력 삭제

- **GIVEN** 사용자가 숫자 123을 입력한 상태에서
- **WHEN** ⌫ 버튼을 클릭하면
- **THEN** 마지막 숫자가 삭제되고 12가 표시되어야 한다

---

## Requirement: 특수 상수

시스템은 π(파이)와 e(자연상수) 값을 제공해야 한다(SHALL).

### Scenario: π 값 입력

- **GIVEN** 계산기가 초기 상태에서
- **WHEN** π 버튼을 클릭하면
- **THEN** 화면에 3.141592653589793이 표시되어야 한다

### Scenario: e 값 입력

- **GIVEN** 계산기가 초기 상태에서
- **WHEN** e 버튼을 클릭하면
- **THEN** 화면에 2.718281828459045가 표시되어야 한다

---

## 비고

### 기술 스택
- React 18+
- TypeScript
- CSS Modules 또는 styled-components (테마 지원)

### UI 구성
- 디스플레이: 현재 입력과 이전 수식 표시
- 숫자 패드: 0-9, 소수점
- 기본 연산자: +, -, ×, ÷, =
- 공학 함수: sin, cos, tan, ln, log, √, x^y, x², 1/x
- 특수 버튼: π, e, (, ), DEG/RAD 토글
- 제어 버튼: C, CE, ⌫(백스페이스)
- 테마 토글 버튼
- 히스토리 패널 (토글 가능)

### 접근성
- 키보드 완전 지원(SHOULD)
- 충분한 색상 대비(SHOULD)
- 포커스 표시(SHOULD)
